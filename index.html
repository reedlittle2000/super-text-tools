<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-adsense-account" content="[REDACTED]">
    <meta name="description" content="Free online QR code generator - create custom QR codes for URLs, contact info, and WiFi credentials. Works entirely in your browser with no data collection.">
    <meta name="keywords" content="QR generator, text tools, word counter, base64 encode, developer tools">
    <title>Super Tools 247 - All-in-One Utilities</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --primary-color: #4a6ee0;
            --secondary-color: #f0f2f5;
            --border-color: #e0e0e0;
            --tab-active-color: #4a6ee0;
            --tab-inactive-color: #cccccc;
        }

        [data-theme="dark"] {
            --bg-color: #1a1a1a;
            --text-color: #f0f0f0;
            --primary-color: #6d8eff;
            --secondary-color: #2d2d2d;
            --border-color: #444444;
            --tab-active-color: #6d8eff;
            --tab-inactive-color: #555555;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background 0.3s ease;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        h1 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 10px;
        }

        p.subtitle {
            text-align: center;
            color: var(--text-color);
            opacity: 0.8;
            margin-bottom: 30px;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 5px;
        }

        .tab-button {
            padding: 10px 15px;
            background: var(--secondary-color);
            border: none;
            border-radius: 5px 5px 0 0;
            cursor: pointer;
            color: var(--text-color);
            font-weight: 500;
            transition: all 0.2s;
        }

        .tab-button.active {
            background: var(--primary-color);
            color: white;
        }

        .tab-content {
            display: none;
            padding: 20px;
            border-radius: 0 5px 5px 5px;
            background: var(--secondary-color);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            flex-grow: 1;
        }

        .tab-content.active {
            display: block;
        }

        .tool {
            margin-bottom: 30px;
        }

        textarea, input[type="text"] {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background-color: var(--bg-color);
            color: var(--text-color);
            resize: vertical;
        }

        button {
            padding: 10px 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
            transition: all 0.2s;
            position: relative;
        }

        button:hover {
            opacity: 0.9;
        }

        button[data-tooltip]:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--text-color);
            color: var(--bg-color);
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 14px;
            white-space: nowrap;
            z-index: 10;
        }

        .output {
            margin-top: 10px;
            padding: 15px;
            background-color: var(--bg-color);
            border: 1px dashed var(--border-color);
            border-radius: 5px;
            word-break: break-all;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .copy-btn {
            background: var(--border-color) !important;
            color: var(--text-color) !important;
            padding: 5px 10px !important;
            font-size: 12px;
            margin-left: 10px;
        }

        .clear-btn {
            background: #ff4444 !important;
        }

        .tool-description {
            font-size: 0.9em;
            color: var(--text-color);
            opacity: 0.8;
            margin-top: 5px;
            padding-left: 5px;
            border-left: 3px solid var(--primary-color);
        }

        #qrCode {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 250px;
            flex-direction: column;
            position: relative;
        }

        #qrCode canvas {
            max-width: 100%;
            height: auto;
            margin: 10px 0;
        }

        .loader {
            border: 4px solid var(--secondary-color);
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
            display: none;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        [data-theme="dark"] #qrCode {
            background-color: #1a1a1a;
            padding: 20px;
        }

        [data-theme="light"] #qrCode {
            background-color: #ffffff;
            padding: 20px;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--secondary-color);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }

        .main-nav {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .main-nav a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
            padding: 5px 10px;
            border-radius: 5px;
        }
        .main-nav a:hover {
            background-color: var(--secondary-color);
        }

        footer {
            margin-top: auto;
            padding: 20px 0;
            text-align: center;
            border-top: 1px solid var(--border-color);
            font-size: 0.9em;
        }
        .legal-links {
            margin: 10px 0;
        }
        .legal-links a {
            color: var(--primary-color);
            text-decoration: none;
        }

        @media (max-width: 600px) {
            .tabs {
                flex-wrap: wrap;
            }
            .tab-button {
                flex: 1;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()">üåì</button>
    <nav class="main-nav">
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="privacy-policy.html">Privacy</a>
        <a href="terms-of-use.html">Terms</a>
    </nav>

    <h1>Super Tools 247</h1>
    <p class="subtitle">All-in-one utilities for developers, writers, and more!</p>

    <div class="tabs">
        <button class="tab-button active" onclick="openTab('text-tools')">üìù Text Tools</button>
        <button class="tab-button" onclick="openTab('encode-tools')">üîó Encode/Decode</button>
        <button class="tab-button" onclick="openTab('qr-generator')">üî≥ QR Generator</button>
        <button class="tab-button" onclick="openTab('lorem-ipsum')">‚úíÔ∏è Lorem Ipsum</button>
    </div>

    <div id="text-tools" class="tab-content active">
        <div class="tool">
            <h3>Word & Character Counter</h3>
            <textarea id="textInput" placeholder="Type or paste text here..."></textarea>
            <div>
                <strong>Words:</strong> <span id="wordCount">0</span> | 
                <strong>Characters:</strong> <span id="charCount">0</span>
            </div>
            <p class="tool-description">
                Counts words and characters in your text. Useful for writers, students, and social media posts with character limits.
            </p>
        </div>

        <div class="tool">
            <h3>Case Converter</h3>
            <textarea id="caseInput" placeholder="Type text to convert..."></textarea>
            <button onclick="convertToUpper()" data-tooltip="Convert to UPPERCASE">UPPERCASE</button>
            <button onclick="convertToLower()" data-tooltip="Convert to lowercase">lowercase</button>
            <p class="tool-description">
                Convert text between uppercase and lowercase. Helpful for formatting titles, headings, or normalizing text.
            </p>
        </div>

        <div class="tool">
            <h3>Random Password Generator</h3>
            <button onclick="generatePassword()" data-tooltip="Generate secure password">Generate Password</button>
            <div id="passwordResult" class="output">
                <span id="passwordText"></span>
                <button class="copy-btn" onclick="copyToClipboard('passwordText')" data-tooltip="Copy to clipboard">Copy</button>
            </div>
            <p class="tool-description">
                Creates a strong 12-character password with uppercase, lowercase, numbers, and special characters.
            </p>
        </div>
    </div>

    <div id="encode-tools" class="tab-content">
        <div class="tool">
            <h3>Base64 Encode/Decode</h3>
            <textarea id="base64Input" placeholder="Enter text to encode or Base64 to decode..."></textarea>
            <button onclick="base64Encode()" data-tooltip="Convert text to Base64">Encode</button>
            <button onclick="base64Decode()" data-tooltip="Convert Base64 to text">Decode</button>
            <div id="base64Output" class="output">
                <span id="base64Text"></span>
                <button class="copy-btn" onclick="copyToClipboard('base64Text')" data-tooltip="Copy to clipboard">Copy</button>
            </div>
            <p class="tool-description">
                Base64 encoding converts binary data to ASCII characters. Commonly used for data URLs and basic obfuscation.
            </p>
        </div>

        <div class="tool">
            <h3>URL Encoder/Decoder</h3>
            <textarea id="urlInput" placeholder="Enter URL to encode or decode..."></textarea>
            <button onclick="urlEncode()" data-tooltip="Encode special URL characters">Encode</button>
            <button onclick="urlDecode()" data-tooltip="Decode URL characters">Decode</button>
            <div id="urlOutput" class="output">
                <span id="urlText"></span>
                <button class="copy-btn" onclick="copyToClipboard('urlText')" data-tooltip="Copy to clipboard">Copy</button>
            </div>
            <p class="tool-description">
                URL encoding converts special characters to percent-encoded format. Essential for web development when passing parameters.
            </p>
        </div>
    </div>

    <div id="qr-generator" class="tab-content">
        <div class="tool">
            <h3>QR Code Generator</h3>
            <input type="text" id="qrText" placeholder="Enter text or URL...">
            <button onclick="generateQR()" data-tooltip="Generate QR code from text">Generate QR Code</button>
            <button onclick="clearQR()" class="clear-btn" data-tooltip="Clear QR code">Clear</button>
            <button onclick="downloadQR()" id="downloadBtn" disabled data-tooltip="Download as PNG">Download QR Code</button>
            <div id="qrCode" class="output">
                <div class="loader" id="qrLoader"></div>
                <span id="qrPlaceholder">QR Code will appear here</span>
            </div>
            <p class="tool-description">
                Create scannable QR codes for URLs, contact information, WiFi credentials, or any text. Works offline.
            </p>
        </div>
    </div>

    <div id="lorem-ipsum" class="tab-content">
        <div class="tool">
            <h3>Lorem Ipsum Generator</h3>
            <button onclick="generateLoremIpsum(1)" data-tooltip="Generate 1 paragraph">1 Paragraph</button>
            <button onclick="generateLoremIpsum(3)" data-tooltip="Generate 3 paragraphs">3 Paragraphs</button>
            <button onclick="generateLoremIpsum(5)" data-tooltip="Generate 5 paragraphs">5 Paragraphs</button>
            <div id="loremOutput" class="output"></div>
            <p class="tool-description">
                Generate placeholder text for design mockups and document layouts. Standard "Lorem ipsum" dummy text.
            </p>
        </div>
    </div>

    <script>
        // Initialize theme
        function initTheme() {
            const savedTheme = localStorage.getItem("theme");
            const osPrefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
            const defaultTheme = savedTheme || (osPrefersDark ? "dark" : "light");
            document.documentElement.setAttribute("data-theme", defaultTheme);
        }
        initTheme();

        // Tab Navigation
        function openTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            document.getElementById(tabId).classList.add('active');
            event.currentTarget.classList.add('active');
        }

        // Word/Character Counter
        document.getElementById('textInput').addEventListener('input', function() {
            const text = this.value;
            document.getElementById('wordCount').textContent = text.trim() ? text.trim().split(/\s+/).length : 0;
            document.getElementById('charCount').textContent = text.length;
        });

        // Case Converter
        function convertToUpper() {
            const text = document.getElementById('caseInput').value;
            document.getElementById('caseInput').value = text.toUpperCase();
        }
        function convertToLower() {
            const text = document.getElementById('caseInput').value;
            document.getElementById('caseInput').value = text.toLowerCase();
        }

        // Password Generator
        function generatePassword() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*';
            let password = '';
            for (let i = 0; i < 12; i++) {
                password += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            document.getElementById('passwordText').textContent = password;
        }

        // Clipboard Function (FIXED - No more permission errors)
        function copyToClipboard(elementId) {
            const text = document.getElementById(elementId).innerText;
            const textarea = document.createElement('textarea');
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            
            try {
                const successful = document.execCommand('copy');
                const btn = event.target;
                if (successful) {
                    btn.textContent = "Copied!";
                    setTimeout(() => {
                        btn.textContent = "Copy";
                    }, 2000);
                } else {
                    alert("Copy failed. Please try again or use Ctrl+C");
                }
            } catch (err) {
                alert("Error copying text. Please use Ctrl+C");
                console.error("Copy failed:", err);
            }
            
            document.body.removeChild(textarea);
        }

        // Base64 Tools
        function base64Encode() {
            const text = document.getElementById('base64Input').value;
            document.getElementById('base64Text').textContent = btoa(encodeURIComponent(text));
        }
        function base64Decode() {
            const text = document.getElementById('base64Input').value;
            try {
                document.getElementById('base64Text').textContent = decodeURIComponent(atob(text));
            } catch {
                document.getElementById('base64Text').textContent = "Invalid Base64!";
            }
        }

        // URL Tools
        function urlEncode() {
            const text = document.getElementById('urlInput').value;
            document.getElementById('urlText').textContent = encodeURIComponent(text);
        }
        function urlDecode() {
            const text = document.getElementById('urlInput').value;
            document.getElementById('urlText').textContent = decodeURIComponent(text);
        }

        // QR Generator (FIXED - No more null errors)
        let qrCodeInstance = null;

        function generateQR() {
            const text = document.getElementById('qrText').value.trim();
            const qrDiv = document.getElementById('qrCode');
            const placeholder = document.getElementById('qrPlaceholder');
            const downloadBtn = document.getElementById('downloadBtn');
            
            if (!text) {
                placeholder.textContent = "Please enter text first!";
                downloadBtn.disabled = true;
                return;
            }

            // Clear previous QR code completely
            qrDiv.innerHTML = '';
            
            // Create new loader element
            const loader = document.createElement('div');
            loader.className = 'loader';
            loader.id = 'qrLoader';
            qrDiv.appendChild(loader);
            loader.style.display = "block";
            
            placeholder.textContent = "";
            downloadBtn.disabled = true;

            // Destroy old instance
            if (qrCodeInstance) {
                qrCodeInstance.clear();
                qrCodeInstance = null;
            }

            setTimeout(() => {
                try {
                    const isDarkTheme = document.documentElement.getAttribute('data-theme') === 'dark';
                    qrDiv.innerHTML = ''; // Clear loader
                    qrCodeInstance = new QRCode(qrDiv, {
                        text: text,
                        width: 200,
                        height: 200,
                        colorDark: isDarkTheme ? '#ffffff' : '#000000',
                        colorLight: isDarkTheme ? '#1a1a1a' : '#ffffff',
                        correctLevel: QRCode.CorrectLevel.H
                    });
                    downloadBtn.disabled = false;
                } catch (e) {
                    qrDiv.innerHTML = '<span id="qrPlaceholder">Error generating QR</span>';
                    console.error("QR Error:", e);
                }
            }, 500);
        }

        // Clear QR Code
        function clearQR() {
            const qrDiv = document.getElementById('qrCode');
            const downloadBtn = document.getElementById('downloadBtn');
            
            if (qrCodeInstance) {
                qrCodeInstance.clear();
                qrCodeInstance = null;
            }
            
            qrDiv.innerHTML = '<span id="qrPlaceholder">QR Code will appear here</span>';
            document.getElementById('qrText').value = '';
            downloadBtn.disabled = true;
        }

        function downloadQR() {
            if (!qrCodeInstance) return;
            
            const canvas = document.querySelector('#qrCode canvas');
            if (!canvas) return;
            
            const tempCanvas = document.createElement('canvas');
            const ctx = tempCanvas.getContext('2d');
            tempCanvas.width = canvas.width;
            tempCanvas.height = canvas.height;
            
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, tempCanvas.width, tempCanvas.height);
            ctx.drawImage(canvas, 0, 0);
            
            const link = document.createElement('a');
            link.download = 'qr-code.png';
            link.href = tempCanvas.toDataURL('image/png');
            link.click();
        }

        // Lorem Ipsum Generator
        function generateLoremIpsum(paragraphs) {
            const lorem = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.";
            let output = "";
            for (let i = 0; i < paragraphs; i++) {
                output += `<p>${lorem}</p>`;
            }
            document.getElementById('loremOutput').innerHTML = output;
        }

        // Theme Toggle
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute("data-theme");
            const newTheme = currentTheme === "dark" ? "light" : "dark";
            html.setAttribute("data-theme", newTheme);
            localStorage.setItem("theme", newTheme);
            
            // Only regenerate QR if there's content
            if (document.getElementById('qrText').value.trim()) {
                generateQR();
            }
        }
    </script>

    <!-- Cookie Banner -->
    <div id="cookie-banner" class="hidden">
        <p>We use only essential cookies. By using our site, you agree to our 
           <a href="privacy-policy.html">Privacy Policy</a>.</p>
        <button id="accept-cookies">Accept</button>
    </div>

    <script>
        if (!localStorage.getItem('cookiesAccepted')) {
            document.getElementById('cookie-banner').classList.remove('hidden');
        }
        
        document.getElementById('accept-cookies').addEventListener('click', function() {
            localStorage.setItem('cookiesAccepted', 'true');
            document.getElementById('cookie-banner').classList.add('hidden');
        });
    </script>

    <footer>
        <div class="footer-content">
            <p>¬© <span id="year"></span> Super Tools 247. All rights reserved.</p>
            <div class="legal-links">
                <a href="privacy-policy.html">Privacy Policy</a> | 
                <a href="terms-of-use.html">Terms of Use</a> |
                <a href="about.html">About</a>
            </div>
            <p class="copyright">
                All tools process data locally in your browser. No tracking.
            </p>
        </div>
    </footer>

    <script>
        document.getElementById('year').textContent = new Date().getFullYear();
    </script>
</body>
</html>
